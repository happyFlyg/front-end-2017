<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>留言本</title>
</head>

<body>
    <p id="msg"></p>
    <textarea name="" id="memo" cols="60" rows="10"></textarea>
    <br/>
    <input type="button" value="追加数据" onclick="saveStorage('memo')">
    <input type="button" value="删除数据" onclick="clearStorage()">
</body>
<script>
	function saveStorage(id){
       var data=document.getElementById(id).value;
       var time= new Date().getTime();
       localStorage.setItem(time,data);
       alert('数据已经储存');
       locadStorage('msg');
	}
	function locadStorage(id){
		var result="<table border='1'>";
		for(var i=0;i<localStorage.length;i++){
			var key=localStorage.key(i);
			var value=localStorage.getItem(key);
			var date=new Date().setTime(key);
			result+="<tr><td>"+value+"</td><td>"+date+"</td></tr>";
		}
		result+="</table>";
		var target=document.getElementById(id);
		target.innerHTML=result;
	}
	function clearStorage(){
		localStorage.clear();//清除数据
		alert("数据已经删除");
		locadStorage('msg')
	}
</script>
</html>
